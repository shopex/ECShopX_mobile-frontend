<block>
    <block wx:if="{{!info}}">
        <loading __triggerObserer="{{ _triggerObserer }}"></loading>
    </block>
    <view class="trade-refund-detail" wx:else>
        <view class="refund-status"><text class="refund-status__text text-status">{{info.status_str}}</text>
            <block wx:if="{{progress == 0}}"><text class="refund-status__text">正在审核订单</text>
            </block>
            <block wx:if="{{progress == 1}}"><text class="refund-status__text">已接受申请，等回寄</text>
            </block>
            <block wx:if="{{progress == 2}}"><text class="refund-status__text">客户已回寄，等待商家收货确认</text>
            </block>
            <block wx:if="{{progress == 3}}"><text class="refund-status__text">申请已驳回</text>
            </block>
            <block wx:if="{{progress == 4}}"><text class="refund-status__text">物流信息：已发货</text>
            </block>
            <block wx:if="{{progress == 5}}"><text class="refund-status__text">时间</text>
            </block>
            <block wx:if="{{progress == 6}}"><text class="refund-status__text">时间</text>
            </block>
            <block wx:if="{{progress == 7}}"><text class="refund-status__text">时间</text>
            </block>
        </view>
        <view class="refund-detail">
            <block wx:if="{{progress == 0}}"><text class="refund-detail__title">您已成功发起退款申请，请耐心等待商家处理</text>
            </block><text class="refund-detail__descr">{{info.description}}</text>
            <block wx:if="{{progress == 0}}">
                <view><text class="refund-detail__btn" bindtap="handleBtnClick" data-e-tap-so="this" data-e-tap-a-a="edit">修改申请</text><text class="refund-detail__btn refund-detail__cancel" bindtap="handleBtnClick" data-e-tap-so="this" data-e-tap-a-a="cancel">撤销申请</text>
                </view>
            </block>
            <block wx:if="{{progress == 3 || progress == 5}}">
                <view><text class="refund-detail__btn" bindtap="handleBtnClick" data-e-tap-so="this" data-e-tap-a-a="refund">再次申请</text><text class="refund-detail__btn refund-detail__cancel" bindtap="handleBtnClick" data-e-tap-so="this" data-e-tap-a-a="cancel">撤销申请</text>
                </view>
            </block>
            <block wx:if="{{progress == 1}}">
                <view><text class="refund-detail__btn" bindtap="handleBtnClick" data-e-tap-so="this" data-e-tap-a-a="refund_send">填写物流信息</text><text class="refund-detail__btn refund-detail__cancel" bindtap="handleBtnClick" data-e-tap-so="this" data-e-tap-a-a="cancel">撤销申请</text>
                </view>
            </block>
        </view>
        <view class="refund-detail-info">
            <view class="info-name">退款原因：<text class="info-value">{{info.reason}}</text>
            </view>
            <view class="info-name">申请时间：<text class="info-value">{{info.creat_time_str}}</text>
            </view>
            <view class="info-name">退款编号：<text class="info-value">{{info.aftersales_bn}}</text>
            </view>
        </view>
        <view open-type="contact" class="refund-detail-btn">联系客服</view>
    </view>
</block>