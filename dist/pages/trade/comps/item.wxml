<block>
    <block wx:if="{{!info}}">
        <view></view>
    </block>
    <view class="trade-item" wx:else>
        <block wx:if="{{!noHeader}}">
            <block>
                <block wx:if="{{customHeader}}">
                    <view class="trade-item__hd">
                        <slot name="header"></slot>
                    </view>
                </block>
                <block wx:else>
                    <view class="trade-item__hd"><text class="time">{{info.create_date}}</text><text class="trade-item__shop">订单号：{{info.tid}}</text>
                    </view>
                </block>
            </block>
        </block>
        <view class="trade-item__bd" bindtap="funPrivatedQYKx">
            <order-item wx:key="idx" __triggerObserer="{{ _triggerObserer }}" info="{{item}}" payType="{{payType}}" wx:for="{{info.order}}" wx:for-item="item" wx:for-index="idx"></order-item>
            <block>
                <block wx:if="{{customRender}}">{{customRender}}</block>
                <block wx:else>
                    <block>
                        <block wx:if="{{payType === 'point'}}">
                            <view class="trade-item__total">共{{info.totalItems}}件商品 合计:
                                <price appendText="积分" __triggerObserer="{{ _triggerObserer }}" noSymbol="{{true}}" noDecimal="{{true}}" value="{{info.point}}"></price>
                            </view>
                        </block>
                        <block wx:else>
                            <view class="trade-item__total">共{{info.totalItems}}件商品 合计:
                                <price value="{{info.payment}}" __triggerObserer="{{ _triggerObserer }}"></price>
                            </view>
                        </block>
                    </block>
                </block>
            </block>
        </view>
        <block wx:if="{{customFooter}}">
            <view class="trade-item__ft">
                <slot name="footer"></slot>
            </view>
        </block>
        <block wx:if="{{!customFooter && info.status === 'WAIT_BUYER_PAY'}}">
            <view class="trade-item__ft">
                <view class="trade-item__ft-actions"></view>
                <view class="trade-item__ft-bd"><text class="trade-item__status">{{info.status_desc}}</text>
                    <block wx:if="{{info.order_status_des === 'PAYED' || info.order_status_des === 'NOTPAY'}}">
                        <at-button circle="{{true}}" __triggerObserer="{{ _triggerObserer }}" type="secondary" size="small" bindonclick="handleClickBtn" __fn_onClick="{{true}}" data-e-onclick-so="this" data-e-onclick-a-a="cancel">取消订单</at-button>
                    </block>
                    <at-button circle="{{true}}" __triggerObserer="{{ _triggerObserer }}" type="primary" size="small" bindonclick="handleClickBtn" __fn_onClick="{{true}}" data-e-onclick-so="this" data-e-onclick-a-a="pay">立即支付</at-button>
                </view>
            </view>
        </block>
        <block wx:if="{{!customFooter && info.status === 'WAIT_SELLER_SEND_GOODS'}}">
            <view class="trade-item__ft">
                <view class="trade-item__ft-actions"></view>
                <view class="trade-item__ft-bd"><text class="trade-item__status">{{info.status_desc}}</text>
                    <block wx:if="{{info.order_status_des === 'PAYED' || info.order_status_des === 'NOTPAY'}}">
                        <at-button circle="{{true}}" __triggerObserer="{{ _triggerObserer }}" type="secondary" size="small" bindonclick="handleClickBtn" __fn_onClick="{{true}}" data-e-onclick-so="this" data-e-onclick-a-a="cancel">取消订单</at-button>
                    </block>
                    <at-button circle="{{true}}" __triggerObserer="{{ _triggerObserer }}" type="primary" size="small" bindonclick="handleClickBtn" __fn_onClick="{{true}}" data-e-onclick-so="this" data-e-onclick-a-a="detail">订单详情</at-button>
                </view>
            </view>
        </block>
        <block wx:if="{{!customFooter && info.status === 'TRADE_CLOSED'}}">
            <view class="trade-item__ft">
                <view class="trade-item__ft-actions"></view>
                <view class="trade-item__ft-bd"><text class="trade-item__status">{{info.status_desc}}</text>
                    <at-button circle="{{true}}" __triggerObserer="{{ _triggerObserer }}" type="primary" size="small" bindonclick="handleClickBtn" __fn_onClick="{{true}}" data-e-onclick-so="this" data-e-onclick-a-a="detail">订单详情</at-button>
                </view>
            </view>
        </block>
        <block wx:if="{{!customFooter && info.status === 'WAIT_BUYER_CONFIRM_GOODS'}}">
            <view class="trade-item__ft">
                <view class="trade-item__ft-actions"><text class="trade-item__acts" bindtap="funPrivatevKzmA" data-e-tap-so="this">更多</text>
                    <view class="{{anonymousState__temp}}"><text class="trade-item__dropdown-item" bindtap="funPrivatePgPEn" data-e-tap-so="this" data-e-tap-a-a="confirm-receive">确认收货</text><text class="trade-item__dropdown-item" bindtap="funPrivatePgPEn" data-e-tap-so="this" data-e-tap-a-a="view-express">查看物流</text>
                    </view>
                </view>
                <view class="trade-item__ft-bd"><text class="trade-item__status">{{info.status_desc}}</text>
                    <at-button circle="{{true}}" __triggerObserer="{{ _triggerObserer }}" type="secondary" size="small" bindonclick="handleClickBtn" __fn_onClick="{{true}}" data-e-onclick-so="this" data-e-onclick-a-a="confirm">确认收货</at-button>
                    <at-button circle="{{true}}" __triggerObserer="{{ _triggerObserer }}" type="primary" size="small" bindonclick="handleClickBtn" __fn_onClick="{{true}}" data-e-onclick-so="this" data-e-onclick-a-a="detail">订单详情</at-button>
                </view>
            </view>
        </block>
        <block wx:if="{{!customFooter && info.status === 'WAIT_RATE'}}">
            <view class="trade-item__ft">
                <view class="trade-item__ft-actions"><text class="trade-item__acts">更多</text>
                    <view class="{{anonymousState__temp2}}"><text class="trade-item__dropdown-item" bindtap="funPrivatePgPEn" data-e-tap-so="this" data-e-tap-a-a="rate">评价|晒单</text><text class="trade-item__dropdown-item" bindtap="funPrivatePgPEn" data-e-tap-so="this" data-e-tap-a-a="rebuy">再次购买</text>
                    </view>
                </view>
                <view class="trade-item__ft-bd"><text class="trade-item__status">{{info.status_desc}}</text>
                    <at-button circle="{{true}}" __triggerObserer="{{ _triggerObserer }}" type="secondary" size="small" bindonclick="handleClickBtn" __fn_onClick="{{true}}" data-e-onclick-so="this" data-e-onclick-a-a="rate">评价</at-button>
                    <at-button circle="{{true}}" __triggerObserer="{{ _triggerObserer }}" type="primary" size="small" bindonclick="handleClickBtn" __fn_onClick="{{true}}" data-e-onclick-so="this" data-e-onclick-a-a="detail">订单详情</at-button>
                </view>
            </view>
        </block>
    </view>
</block>