<block>
    <block wx:if="{{!info}}">
        <view></view>
    </block>
    <view class="{{'wgt ' + (base.padded ? 'wgt__padded' : null)}}" wx:else>
        <block wx:if="{{base.title}}">
            <view class="wgt__header">
                <view class="wgt__title"><text>{{base.title}}</text>
                    <view class="wgt__subtitle">{{base.subtitle}}</view>
                </view>
                <view class="wgt__more" bindtap="navigateTo" data-e-tap-so="this" data-e-tap-a-a="/pages/coupon/list">
                    <view class="three-dot"></view>
                </view>
            </view>
        </block>
        <view class="wgt-body with-padding">
            <view class="coupon-wgt" wx:key="idx" wx:for="{{data}}" wx:for-item="item" wx:for-index="idx">
                <view class="coupon-brand">
                    <image class="brand-img" mode="aspectFill" src="{{item.imgUrl}}"></image>
                </view>
                <view class="coupon-caption">
                    <view class="coupon-amount"><text>{{item.amount}}</text>
                        <block wx:if="{{item.type === 'cash'}}"><text class="amount-cur">RMB</text>
                        </block>
                        <block wx:if="{{item.type === 'discount'}}"><text class="amount-cur">折</text>
                        </block>
                    </view>
                    <view class="coupon-content"><text class="brand-name">{{item.title}}</text><text class="coupon-desc">{{item.desc}}</text>
                    </view>
                </view>
                <block wx:if="{{!hasAuth}}">
                    <button class="coupon-getted-btn" open-type="getUserInfo" bindtap="handleGetUserInfo">领取</button>
                </block>
                <block wx:if="{{hasAuth}}">
                    <button class="coupon-getted-btn" bindtap="handleGetCard" data-e-tap-so="this" data-e-tap-a-a="{{item.id}}">领取</button>
                </block>
            </view>
        </view>
    </view>
</block>