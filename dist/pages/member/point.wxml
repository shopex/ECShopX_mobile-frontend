<block>
    <view class="page-member-integral">
        <nav-bar title="积分" __triggerObserer="{{ _triggerObserer }}" leftIconType="chevron-left"></nav-bar>
        <view class="member-point__hd">
            <view class="member-point__hd_content"><text class="member-point__num">{{totalPoint}}</text><text>积分</text>
            </view>
        </view>
        <view class="member-point__content">
            <scroll-view scroll-y="{{true}}" class="member-point__scroll" bindscrolltolower="nextPage">
                <at-divider fontColor="#787878" __triggerObserer="{{ _triggerObserer }}" lineColor="#EFEFEF" content="积分详情"></at-divider>
                <view wx:key="idx" wx:for="{{list}}" wx:for-item="item" wx:for-index="idx">
                    <view class="point-item">
                        <view class="point-item__title"><text class="point-item__title-name">{{item.point_desc}}</text><text class="{{'point-item__title-' + item.outin_type}}">{{item.outin_type === 'in' ? '+' : '-'}}{{item.point}}</text>
                        </view>
                        <view class="point-item__data">{{item.chngdate}}</view>
                    </view>
                </view>
                <block wx:if="{{page.isLoading}}">
                    <loading __triggerObserer="{{ _triggerObserer }}">正在加载...</loading>
                </block>
                <block wx:if="{{!page.isLoading && !page.hasNext && !list.length}}">
                    <view>
                        <sp-note className="integral_empty" __triggerObserer="{{ _triggerObserer }}" img="integral_empty.png">赶快赚积分吧~</sp-note>
                        <view class="btns">
                            <at-button type="primary" __triggerObserer="{{ _triggerObserer }}" bindonclick="handleClickRoam" __fn_onClick="{{true}}">随便逛逛</at-button>
                        </view>
                    </view>
                </block>
            </scroll-view>
        </view>
    </view>
</block>