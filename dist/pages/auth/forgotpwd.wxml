<block>
    <view class="auth-forgotpwd">
        <nav-bar title="忘记密码" __triggerObserer="{{ _triggerObserer }}" leftIconType="chevron-left"></nav-bar>
        <at-form bindonsubmit="handleSubmit" __triggerObserer="{{ _triggerObserer }}" __fn_onSubmit="{{true}}">
            <view class="sec auth-forgotpwd__form">
                <at-input title="手机号码" __triggerObserer="{{ _triggerObserer }}" name="mobile" type="number" maxLength="{{11}}" value="{{info.mobile}}" placeholder="请输入手机号码" bindonfocus="handleErrorToastClose" bindonchange="handleChange" __fn_onFocus="{{true}}" __fn_onChange="{{true}}" data-e-onchange-so="this" data-e-onchange-a-a="mobile"></at-input>
                <block wx:if="{{imgVisible}}">
                    <at-input title="图片验证码" __triggerObserer="{{ _triggerObserer }}" name="yzm" value="{{info.yzm}}" placeholder="请输入图片验证码" bindonfocus="handleErrorToastClose" bindonchange="handleChange" __fn_onFocus="{{true}}" __fn_onChange="{{true}}" data-e-onchange-so="this" data-e-onchange-a-a="yzm">
                        <image src="{{'' + imgInfo.imageData}}" bindtap="handleClickImgcode"></image>
                    </at-input>
                </block>
                <at-input title="验证码" __triggerObserer="{{ _triggerObserer }}" name="vcode" value="{{info.vcode}}" placeholder="请输入验证码" bindonfocus="handleErrorToastClose" bindonchange="handleChange" __fn_onFocus="{{true}}" __fn_onChange="{{true}}" data-e-onchange-so="this" data-e-onchange-a-a="vcode">
                    <timer bindonstart="handleTimerStart" __triggerObserer="{{ _triggerObserer }}" bindonupdatetimer="handleUpdateTimer" bindonstop="handleTimerStop" timerMsg="{{timerMsg}}" __fn_onStart="{{true}}" __fn_onUpdateTimer="{{true}}" __fn_onStop="{{true}}"></timer>
                </at-input>
                <at-input title="密码" __triggerObserer="{{ _triggerObserer }}" name="password" type="{{isVisible ? 'text' : 'password'}}" value="{{info.password}}" placeholder="请输入密码" bindonfocus="handleErrorToastClose" bindonchange="handleChange" __fn_onFocus="{{true}}" __fn_onChange="{{true}}" data-e-onchange-so="this" data-e-onchange-a-a="password">
                    <block>
                        <block wx:if="{{isVisible}}">
                            <view class="sp-icon sp-icon-yanjing icon-pwd" bindtap="handleClickIconpwd"></view>
                        </block>
                        <block wx:else>
                            <view class="sp-icon sp-icon-icon6 icon-pwd" bindtap="handleClickIconpwd"></view>
                        </block>
                    </block>
                </at-input>
            </view>
            <view class="btns">
                <at-button type="primary" __triggerObserer="{{ _triggerObserer }}" formType="submit">确认</at-button>
            </view>
        </at-form>
        <sp-toast __triggerObserer="{{ _triggerObserer }}"></sp-toast>
    </view>
</block>