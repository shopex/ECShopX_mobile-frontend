<block>
    <view class="auth-reg">
        <nav-bar title="注册" __triggerObserer="{{ _triggerObserer }}" leftIconType="chevron-left"></nav-bar>
        <at-form bindonsubmit="handleSubmit" __triggerObserer="{{ _triggerObserer }}" __fn_onSubmit="{{true}}">
            <view class="sec auth-reg__form">
                <at-input title="手机号码" __triggerObserer="{{ _triggerObserer }}" name="mobile" type="number" maxLength="{{11}}" value="{{info.mobile}}" placeholder="请输入手机号码" bindonfocus="handleErrorToastClose" bindonchange="handleChange" __fn_onFocus="{{true}}" __fn_onChange="{{true}}" data-e-onchange-so="this" data-e-onchange-a-a="mobile"></at-input>
                <block wx:if="{{imgVisible}}">
                    <at-input title="图片验证码" __triggerObserer="{{ _triggerObserer }}" name="yzm" value="{{info.yzm}}" placeholder="请输入图片验证码" bindonfocus="handleErrorToastClose" bindonchange="handleChange" __fn_onFocus="{{true}}" __fn_onChange="{{true}}" data-e-onchange-so="this" data-e-onchange-a-a="yzm">
                        <image src="{{'' + imgInfo.imageData}}" bindtap="handleClickImgcode"></image>
                    </at-input>
                </block>
                <at-input title="验证码" __triggerObserer="{{ _triggerObserer }}" name="vcode" value="{{info.vcode}}" placeholder="请输入验证码" bindonfocus="handleErrorToastClose" bindonchange="handleChange" __fn_onFocus="{{true}}" __fn_onChange="{{true}}" data-e-onchange-so="this" data-e-onchange-a-a="vcode">
                    <timer bindonstart="handleTimerStart" __triggerObserer="{{ _triggerObserer }}" bindonstop="handleTimerStop" __fn_onStart="{{true}}" __fn_onStop="{{true}}"></timer>
                </at-input>
                <at-input title="密码" __triggerObserer="{{ _triggerObserer }}" name="password" type="{{isVisible ? 'text' : 'password'}}" value="{{info.password}}" placeholder="请输入密码" autocomplete="new-password" bindonfocus="handleErrorToastClose" bindonchange="handleChange" __fn_onFocus="{{true}}" __fn_onChange="{{true}}" data-e-onchange-so="this" data-e-onchange-a-a="password">
                    <block>
                        <block wx:if="{{isVisible}}">
                            <view class="sp-icon sp-icon-yanjing icon-pwd" bindtap="handleClickIconpwd"></view>
                        </block>
                        <block wx:else>
                            <view class="sp-icon sp-icon-icon6 icon-pwd" bindtap="handleClickIconpwd"></view>
                        </block>
                    </block>
                </at-input>
                <view wx:key="index" wx:for="{{loopArray0}}" wx:for-item="item" wx:for-index="index">
                    <block>
                        <block wx:if="{{item.$original.items}}">
                            <view class="page-section">
                                <view wx:key="index">
                                    <block>
                                        <block wx:if="{{item.$original.key === 'birthday'}}">
                                            <picker mode="date" bindchange="handleChange" data-e-change-so="this" data-e-change-a-a="{{'' + item.$original.key}}">
                                                <view class="picker">
                                                    <view class="picker__title">{{item.$original.name}}</view><text class="{{item.$loopState__temp2}}">{{item.$original.value ? item.$original.value : '请选择' + item.$original.name}}</text>
                                                </view>
                                            </picker>
                                        </block>
                                        <block wx:else>
                                            <picker mode="selector" range="{{item.$original.items}}" wx:key="index" data-item="{{item.$original}}" bindchange="handleChange" data-e-change-so="this" data-e-change-a-a="{{'' + item.$original.key}}">
                                                <view class="picker">
                                                    <view class="picker__title">{{item.$original.name}}</view><text class="{{item.$loopState__temp4}}">{{item.$original.value ? item.$original.value : '请选择' + item.$original.name}}</text>
                                                </view>
                                            </picker>
                                        </block>
                                    </block>
                                </view>
                            </view>
                        </block>
                        <block wx:else>
                            <view wx:key="index">
                                <at-input wx:key="index" __triggerObserer="{{ _triggerObserer }}" title="{{item.$original.name}}" name="{{item.$loopState__temp6}}" placeholder="{{item.$loopState__temp8}}" value="{{item.$original.value}}" bindonfocus="handleErrorToastClose" bindonchange="handleChange" id="{{item.$loopState__temp10}}" __fn_onFocus="{{true}}" __fn_onChange="{{true}}" data-e-onchange-so="this" data-e-onchange-a-a="{{'' + item.$original.key}}"></at-input>
                            </view>
                        </block>
                    </block>
                </view>
            </view>
            <view class="btns">
                <at-button type="primary" __triggerObserer="{{ _triggerObserer }}" formType="submit">同意协议并注册</at-button>
                <view class="accountAgreement">已阅读并同意<text class="accountAgreement__text" bindtap="handleClickAgreement" data-e-tap-so="this">《用户协议》</text>
                </view>
            </view>
        </at-form>
        <sp-toast __triggerObserer="{{ _triggerObserer }}"></sp-toast>
    </view>
</block>