"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_createClass=function(){function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}}(),_get=function e(n,t,o){null===n&&(n=Function.prototype);var l=Object.getOwnPropertyDescriptor(n,t);if(void 0===l){var a=Object.getPrototypeOf(n);return null===a?void 0:e(a,t,o)}if("value"in l)return l.value;var r=l.get;return void 0!==r?r.call(o):void 0},_index=require("../../../../../@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index),_index3=require("../../../../../classnames/index.js"),_index4=_interopRequireDefault(_index3),_index5=require("../../../../../prop-types/index.js"),_index6=_interopRequireDefault(_index5),_component=require("../../common/component.js"),_component2=_interopRequireDefault(_component);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var AtSearchBar=(_temp2=_class=function(e){function r(){var e,n,l;_classCallCheck(this,r);for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];return(n=l=_possibleConstructorReturn(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o)))).$usedState=["anonymousState__temp","anonymousState__temp2","anonymousState__temp3","anonymousState__temp4","anonymousState__temp5","rootCls","value","focus","disabled","maxLength","placeholder","actionName","isFocus","__fn_onFocus","__fn_onBlur","__fn_onChange","__fn_onConfirm","__fn_onActionClick","fixed","showActionButton","className","customStyle"],l.handleFocus=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];l.setState({isFocus:!0}),l.__triggerPropsFn("onFocus",[null].concat([].concat(n)))},l.handleBlur=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];l.setState({isFocus:!1}),l.__triggerPropsFn("onBlur",[null].concat([].concat(n)))},l.handleChange=function(e){for(var n=arguments.length,t=Array(1<n?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];return l.__triggerPropsFn("onChange",[null].concat([e.target.value].concat(t)))},l.handleClear=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return l.__triggerPropsFn("onChange",[null].concat([""].concat(n)))},l.handleConfirm=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return l.__triggerPropsFn("onConfirm",[null].concat([].concat(n)))},l.handleActionClick=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return l.__triggerPropsFn("onActionClick",[null].concat([].concat(n)))},l.$$refs=[],_possibleConstructorReturn(l,n)}return _inherits(r,_component2.default),_createClass(r,[{key:"_constructor",value:function(e){_get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"_constructor",this).apply(this,arguments),this.state={isFocus:e.focus}}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};arguments[2];var e=this.__props,n=e.value,t=e.placeholder,o=e.maxLength,l=e.fixed,a=e.focus,r=e.disabled,i=e.showActionButton,u=e.actionName,c=e.className,s=e.customStyle,_=this.__state.isFocus,p=(0,_index4.default)("at-search-bar",{"at-search-bar--fixed":l},c),f={},d={};_||!_&&n?(f.width=14*(t.length+2.5)+"px",d.opacity=1,d.marginRight="0"):_||n||(f.width="100%",d.opacity=0,d.marginRight="-"+(14*(u.length+1)+7)+"px"),i&&(d.opacity=1,d.marginRight="0");var h={display:"flex"},y={visibility:"hidden"};n.length||(h.display="none",y.visibility="visible");var m=(0,_index.internal_inline_style)(s),g=(0,_index.internal_inline_style)(f),v=(0,_index.internal_inline_style)(y),x=(0,_index.internal_inline_style)(h),b=(0,_index.internal_inline_style)(d);return Object.assign(this.__state,{anonymousState__temp:m,anonymousState__temp2:g,anonymousState__temp3:v,anonymousState__temp4:x,anonymousState__temp5:b,rootCls:p,value:n,focus:a,disabled:r,maxLength:o,placeholder:t,actionName:u}),this.__state}}]),r}(),_class.properties={__fn_onFocus:{type:null,value:null},__fn_onBlur:{type:null,value:null},__fn_onChange:{type:null,value:null},__fn_onConfirm:{type:null,value:null},__fn_onActionClick:{type:null,value:null},value:{type:null,value:null},placeholder:{type:null,value:null},maxLength:{type:null,value:null},fixed:{type:null,value:null},focus:{type:null,value:null},disabled:{type:null,value:null},showActionButton:{type:null,value:null},actionName:{type:null,value:null},className:{type:null,value:null},customStyle:{type:null,value:null}},_class.$$events=["handleChange","handleFocus","handleBlur","handleConfirm","handleClear","handleActionClick"],_temp2);AtSearchBar.defaultProps={value:"",placeholder:"搜索",maxLength:140,fixed:!1,focus:!1,disabled:!1,showActionButton:!1,actionName:"搜索",onChange:function(){},onFocus:function(){},onBlur:function(){},onConfirm:function(){},onActionClick:function(){}},AtSearchBar.propTypes={value:_index6.default.string,placeholder:_index6.default.string,maxLength:_index6.default.number,fixed:_index6.default.bool,focus:_index6.default.bool,disabled:_index6.default.bool,showActionButton:_index6.default.bool,actionName:_index6.default.string,onChange:_index6.default.func,onFocus:_index6.default.func,onBlur:_index6.default.func,onConfirm:_index6.default.func,onActionClick:_index6.default.func},exports.default=AtSearchBar,Component(require("../../../../../@tarojs/taro-weapp/index.js").default.createComponent(AtSearchBar));