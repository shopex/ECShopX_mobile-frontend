"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var uploadImagesFn=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r.forEach(function(t){var e=new Promise(function(n,r){if(t.file){t.url.slice(t.url.lastIndexOf("/")+1);var e=wx.getExtConfigSync?wx.getExtConfigSync():{};_index2.default.uploadFile({url:_req2.default.baseURL+"espier/upload",filePath:t.url,name:"file",header:{Authorization:_index4.default.getAuthToken(),"authorizer-appid":e.appid},formData:{file:t.url,company_id:e.company_id||1},success:function(e){var r=JSON.parse(e.data);n(r.data)},fail:function(e){return r(e)}})}else n(t)});n.push(e)}),e.next=4,Promise.all(n);case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)}));return function(e){return r.apply(this,arguments)}}(),_index=require("../npm/@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index),_req=require("../api/req.js"),_req2=_interopRequireDefault(_req),_index3=require("../spx/index.js"),_index4=_interopRequireDefault(_index3);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var o=e.apply(this,arguments);return new Promise(function(a,u){return function r(e,n){try{var t=o[e](n),i=t.value}catch(e){return void u(e)}if(!t.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});a(i)}("next")})}}exports.default={uploadImagesFn:uploadImagesFn};