import { pickBy, resolveOrderStatus } from '@/utils'

export const COMMUNITY_ORDER_LIST = {
  tid: 'order_id',
  status_desc: 'order_status_msg',
  order_status_des: 'order_status_des',
  status: ({ order_status }) => resolveOrderStatus(order_status),
  totalItems: ({ items }) => items.reduce((acc, item) => +item.num + acc, 0),
  payment: ({ total_fee }) => (total_fee / 100).toFixed(2),
  total_fee: 'total_fee',
  pay_type: 'pay_type',
  point: 'point',
  order_class: 'order_class',
  freight_fee: 'freight_fee',
  freight_type: 'freight_type',
  type: 'type',
  is_rate: 'is_rate',
  dada: 'dada',
  create_date: 'create_date',
  is_all_delivery: 'is_all_delivery',
  is_logistics: 'is_split',
  receipt_type: 'receipt_type',
  delivery_type: 'delivery_type',
  pay_status: 'pay_status',
  delivery_status: 'delivery_status',
  delivery_code: 'delivery_code',
  delivery_corp: 'delivery_corp',
  delivery_corp_name: 'delivery_corp_name',
  delivery_id: 'delivery_id',
  distributor_info: 'distributor_info',
  orders_delivery_id: 'orders_delivery_id',
  order_type: 'order_type',
  can_apply_cancel: 'can_apply_cancel',
  order: ({ items }) =>
    pickBy(items, {
      order_id: 'order_id',
      item_id: 'item_id',
      pic_path: 'pic',
      title: 'item_name',
      origincountry_name: 'origincountry_name',
      origincountry_img_url: 'origincountry_img_url',
      type: 'type',
      item_spec_desc: 'item_spec_desc',
      price: 'item_fee',
      item_fee: 'item_fee',
      point: 'item_point',
      num: 'num',
      order_item_type: 'order_item_type'
    })
}
