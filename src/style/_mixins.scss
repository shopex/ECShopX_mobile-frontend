/* +----------------------------------------------------------------------
 | ECShopX open source E-commerce
 | ECShopX 开源商城系统 
 +----------------------------------------------------------------------
 | Copyright (c) 2003-2025 ShopeX,Inc.All rights reserved.
 +----------------------------------------------------------------------
 | Corporate Website:  https://www.shopex.cn 
 +----------------------------------------------------------------------
 | Licensed under the Apache License, Version 2.0
 | http://www.apache.org/licenses/LICENSE-2.0
 +----------------------------------------------------------------------
 | The removal of shopeX copyright information without authorization is prohibited.
 | 未经授权不可去除shopeX商派相关版权
 +----------------------------------------------------------------------
 | Author: shopeX Team <mkt@shopex.cn>
 | Contact: 400-821-3106
 +----------------------------------------------------------------------
 */
/**
 * SCSS 混合器文档
 *
 * 本文件包含以下混合器:
 *
 * @mixin text-overflow() - 单行文本溢出显示省略号
 *   用法: @include text-overflow();
 *
 * @mixin clearfix() - 清除浮动
 *   用法: @include clearfix();
 *
 * @mixin multi-ellipsis($line) - 多行文本溢出显示省略号
 *   参数: $line - 显示的行数
 *   用法: @include multi-ellipsis(2);
 *
 * @mixin arrow($size, $color) - 创建箭头
 *   参数:
 *     $size - 箭头大小，默认4px
 *     $color - 箭头颜色，默认$color-border-gray
 *   用法: @include arrow(6px, #333);
 *
 * @mixin hairline($color, $left-gap, $sides...) - 创建细线边框
 *   参数:
 *     $color - 边框颜色，默认$color-border-gray
 *     $left-gap - 左侧间隙，默认0
 *     $sides - 指定边框位置，默认bottom
 *   用法: @include hairline(#eee, 15px, bottom);
 */

@mixin text-overflow() {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

@mixin clearfix() {
  &:after {
    content: '\0020';
    display: block;
    height: 0;
    clear: both;
    visibility: hidden;
    overflow: hidden;
  }

  overflow: hidden;
}

@mixin multi-ellipsis($line) {
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: $line;
  /* autoprefixer: ignore next */
  -webkit-box-orient: vertical;
  word-break: break-all;
}

@mixin arrow($size: 4px, $color: $color-border-gray) {
  content: '';
  border: $size solid $color;
  display: block;
  width: $size;
  height: $size;
  border-left: 0;
  border-top: 0;
  transform: rotate(45deg);
}

@mixin hairline($color: $color-border-gray, $left-gap: 0, $sides...) {
  @if length($sides) ==0 {
    $sides: bottom;
  }

  position: relative;

  &:before {
    content: ' ';
    display: block;
    position: absolute;
    width: 100%;
    height: 100%;
    left: $left-gap;
    top: 0;
    z-index: 2;
    pointer-events: none;
    box-sizing: border-box;

    @each $side in $sides {
      border-#{$side}: 1px solid $color;
    }
  }

  @media (-webkit-device-pixel-ratio: 2) {
    &:before {
      width: 200%;
      height: 200%;
      transform-origin: 0 0;
      transform: scale(0.5);
    }
  }

  @media (-webkit-device-pixel-ratio: 1.5) {
    &:before {
      width: 150%;
      height: 150%;
      transform-origin: 0 0;
      transform: scale(0.6666);
    }
  }

  @media (-webkit-device-pixel-ratio: 3) {
    &:before {
      width: 300%;
      height: 300%;
      transform-origin: 0 0;
      transform: scale(0.3333);
    }
  }
}

@mixin overlay($zIndex: $z-index-modal) {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(#000, 0.3);
  opacity: 0;
  z-index: $z-index-modal - 1;
  transition: all 0.15s ease-in;
}

@mixin page-view($animation: sp-anim-popup) {
  $self: &;
  background: $color-bg-gray;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: $z-index-modal + 1;
  visibility: hidden;

  &__overlay {
    @include overlay();
  }

  &__active {
    animation: $animation 0.2s ease-in-out;
    visibility: visible;

    #{$self}__overlay {
      opacity: 1;
    }
  }
}

@mixin page-scroll($padding-top: 0, $padding-bottom: 0, $z-index: 1) {
  position: absolute;
  left: 0;
  width: 100%;
  top: $padding-top;
  bottom: $padding-bottom;
  overflow-y: auto;
  overflow-x: hidden;
  // transform: translate3d(0,0,0);
  z-index: 1;
  /*  #ifdef  weapp  */
  transform: translate3d(0, 0, 0);

  /*  #endif  */
  > div,
  > view {
    /*  #ifdef  weapp  */
    transform: translate3d(0, 0, 0);
    /*  #endif  */
  }
}

@mixin iconfont-gradient($background) {
  &:before {
    background: $background;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
}

@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin price($color, $int-size) {
  .sp-price__symbol {
    color: $color !important;
    font-size: $int-size - 8px !important;
  }

  .sp-price__int {
    color: $color !important;
    font-size: $int-size !important;
  }

  .sp-price__decimal {
    color: $color !important;
    font-size: $int-size - 4px !important;
  }
}

@mixin placeholder($color, $font-size) {
  ::-webkit-input-placeholder {
    /* WebKit browsers */
    color: $color;
    font-size: $font-size;
  }

  :-moz-placeholder {
    /* Mozilla Firefox 4 to 18 */
    color: $color;
    font-size: $font-size;
  }

  ::-moz-placeholder {
    /* Mozilla Firefox 19+ */
    color: $color;
    font-size: $font-size;
  }

  :-ms-input-placeholder {
    /* Internet Explorer 10+ */
    color: $color;
    font-size: $font-size;
  }
}

@mixin generate-margin($start, $end, $step) {
  $position: top, right, bottom, left;

  @each $p in $position {
    @for $i from $start through $end {
      .m#{str-slice($p, 1, 1)}-#{$i} {
        margin-#{$p}: $i + px;
      }
    }
  }

  @for $i from $start through $end {
    .m-#{$i} {
      margin: $i + px;
    }
  }
}

@mixin generate-padding($start, $end, $step) {
  $position: top, right, bottom, left;

  @each $p in $position {
    @for $i from $start through $end {
      .p#{str-slice($p, 1, 1)}-#{$i} {
        padding-#{$p}: $i + px;
      }
    }
  }

  @for $i from $start through $end {
    .p-#{$i} {
      padding: $i + px;
    }
  }
}

@mixin generate-fontsize($start: 1, $len: 20, $step: 1, $base-size: 14) {
  @for $i from $start through $len {
    .text-#{($i - 1) * $step + $base-size} {
      font-size: ($i - 1) * $step + $base-size + px;
    }
  }
}
