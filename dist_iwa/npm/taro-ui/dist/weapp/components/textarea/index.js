"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_createClass=function(){function l(e,n){for(var t=0;t<n.length;t++){var l=n[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,n,t){return n&&l(e.prototype,n),t&&l(e,t),e}}(),_get=function e(n,t,l){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,t);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:e(a,t,l)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(l):void 0},_index=require("../../../../../@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index),_index3=require("../../../../../prop-types/index.js"),_index4=_interopRequireDefault(_index3),_index5=require("../../../../../classnames/index.js"),_index6=_interopRequireDefault(_index5),_component=require("../../common/component.js"),_component2=_interopRequireDefault(_component),_utils=require("../../common/utils.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function getMaxLength(e,n){return n?e:e+500}var ENV=_index2.default.getEnv();(0,_utils.initTestEnv)();var AtTextarea=(_temp2=_class=function(e){function r(){var e,n,l;_classCallCheck(this,r);for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];return(n=l=_possibleConstructorReturn(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o)))).$usedState=["anonymousState__temp","anonymousState__temp2","rootCls","placeholderStyle","placeholderCls","cursorSpacing","value","actualMaxLength","placeholder","disabled","autoFocus","focus","showConfirmBar","selectionStart","selectionEnd","fixed","count","_maxLength","__fn_onChange","__fn_onFocus","__fn_onBlur","__fn_onConfirm","__fn_onLinechange","customStyle","className","placeholderClass","maxLength","textOverflowForbidden","height"],l.handleInput=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return l.__triggerPropsFn("onChange",[null].concat([].concat(n)))},l.handleFocus=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return l.__triggerPropsFn("onFocus",[null].concat([].concat(n)))},l.handleBlur=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return l.__triggerPropsFn("onBlur",[null].concat([].concat(n)))},l.handleConfirm=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return l.__triggerPropsFn("onConfirm",[null].concat([].concat(n)))},l.handleLinechange=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return l.__triggerPropsFn("onLinechange",[null].concat([].concat(n)))},l.$$refs=[],_possibleConstructorReturn(l,n)}return _inherits(r,_component2.default),_createClass(r,[{key:"_constructor",value:function(e){_get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"_constructor",this).call(this,e)}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};arguments[2];var e=this.__props,n=e.customStyle,t=e.className,l=e.value,o=e.cursorSpacing,a=e.placeholder,r=e.placeholderStyle,u=e.placeholderClass,i=e.maxLength,c=e.count,s=e.disabled,d=e.autoFocus,_=e.focus,f=e.showConfirmBar,p=e.selectionStart,h=e.selectionEnd,x=e.fixed,y=e.textOverflowForbidden,g=e.height,v=parseInt(i),m=getMaxLength(v,y),b=g?"height:"+_index2.default.pxTransform(g):"",C=(0,_index6.default)("at-textarea","at-textarea--"+ENV,{"at-textarea--error":v<l.length},t),S=(0,_index6.default)("placeholder",u),O=(0,_index.internal_inline_style)(n),F=(0,_index.internal_inline_style)(b);return Object.assign(this.__state,{anonymousState__temp:O,anonymousState__temp2:F,rootCls:C,placeholderStyle:r,placeholderCls:S,cursorSpacing:o,value:l,actualMaxLength:m,placeholder:a,disabled:s,autoFocus:d,focus:_,showConfirmBar:f,selectionStart:p,selectionEnd:h,fixed:x,count:c,_maxLength:v}),this.__state}}]),r}(),_class.properties={__fn_onChange:{type:null,value:null},__fn_onFocus:{type:null,value:null},__fn_onBlur:{type:null,value:null},__fn_onConfirm:{type:null,value:null},__fn_onLinechange:{type:null,value:null},customStyle:{type:null,value:null},className:{type:null,value:null},value:{type:null,value:null},cursorSpacing:{type:null,value:null},placeholder:{type:null,value:null},placeholderStyle:{type:null,value:null},placeholderClass:{type:null,value:null},maxLength:{type:null,value:null},count:{type:null,value:null},disabled:{type:null,value:null},autoFocus:{type:null,value:null},focus:{type:null,value:null},showConfirmBar:{type:null,value:null},selectionStart:{type:null,value:null},selectionEnd:{type:null,value:null},fixed:{type:null,value:null},textOverflowForbidden:{type:null,value:null},height:{type:null,value:null}},_class.$$events=["handleInput","handleFocus","handleBlur","handleConfirm","handleLinechange"],_temp2);AtTextarea.defaultProps={customStyle:"",className:"",value:"",cursorSpacing:100,maxLength:200,placeholder:"",disabled:!1,autoFocus:!1,focus:!1,showConfirmBar:!1,selectionStart:-1,selectionEnd:-1,count:!0,fixed:!1,height:"",textOverflowForbidden:!0,onLinechange:function(){},onChange:function(){},onFocus:function(){},onBlur:function(){},onConfirm:function(){}},AtTextarea.propTypes={customStyle:_index4.default.oneOfType([_index4.default.object,_index4.default.string]),className:_index4.default.oneOfType([_index4.default.array,_index4.default.string]),value:_index4.default.string.isRequired,cursorSpacing:_index4.default.number,maxLength:_index4.default.oneOfType([_index4.default.string,_index4.default.number]),placeholderClass:_index4.default.string,placeholderStyle:_index4.default.string,placeholder:_index4.default.string,disabled:_index4.default.bool,autoFocus:_index4.default.bool,focus:_index4.default.bool,showConfirmBar:_index4.default.bool,selectionStart:_index4.default.number,selectionEnd:_index4.default.number,count:_index4.default.bool,textOverflowForbidden:_index4.default.bool,fixed:_index4.default.bool,height:_index4.default.oneOfType([_index4.default.string,_index4.default.number]),onLinechange:_index4.default.func,onChange:_index4.default.func.isRequired,onFocus:_index4.default.func,onBlur:_index4.default.func,onConfirm:_index4.default.func},exports.default=AtTextarea,Component(require("../../../../../@tarojs/taro-weapp/index.js").default.createComponent(AtTextarea));