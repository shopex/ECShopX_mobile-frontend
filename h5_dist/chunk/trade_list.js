(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"350":function(e,t,n){"use strict";n(2),n(3);var r=n(8),o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),a=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var i={"WILL_MOUNT":0,"DID_MOUNT":1,"DID_SHOW":2};function withLogin(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.WILL_MOUNT;return void 0!==i[t]?(console.warn("lifeCycle is not in defined types: "+t),function(e){return e}):function withLoginComponent(e){return function(n){function WithLogin(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithLogin),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithLogin.__proto__||Object.getPrototypeOf(WithLogin)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithLogin,e),o(WithLogin,[{"key":"componentWillMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(t!==i.WILL_MOUNT){e.next=6;break}return e.next=3,this.__autoLogin();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this);case 7:case"end":return e.stop()}},_callee,this)}));return function componentWillMount(){return e.apply(this,arguments)}}()},{"key":"componentDidMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(t!==i.DID_MOUNT){e.next=6;break}return e.next=3,this.__autoLogin();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this);case 7:case"end":return e.stop()}},_callee2,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{"key":"componentDidShow","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(t!==i.DID_SHOW){e.next=6;break}return e.next=3,this.__autoLogin();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this);case 7:case"end":return e.stop()}},_callee3,this)}));return function componentDidShow(){return e.apply(this,arguments)}}()},{"key":"__autoLogin","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.autoLogin(this);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee4,this)}));return function __autoLogin(){return e.apply(this,arguments)}}()}]),WithLogin}()}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function withPager(e){var t,n;return t=function(t){function WithPagerComponent(e){!function withPager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithPagerComponent);var t=function withPager_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithPagerComponent.__proto__||Object.getPrototypeOf(WithPagerComponent)).call(this,e));n.call(t);var r=e||{},o=r.pageSize,a=void 0===o?10:o,i=r.pageNo,s=void 0===i?0:i,c=r.pageTotal,l={"hasNext":!0,"isLoading":!1,"total":void 0===c?0:c,"page_no":s,"page_size":a};return t.state.page=l,t}return function withPager_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithPagerComponent,e),c(WithPagerComponent,[{"key":"resetPage","value":function resetPage(){var e=s({},this.state.page||{},{"page_no":0,"total":0,"isLoading":!1,"hasNext":!0});this.setState({"page":e})}}]),WithPagerComponent}(),n=function _initialiseProps(){var e=this;this.nextPage=function withPager_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(){var t,n,r,o,a,i;return regeneratorRuntime.wrap(function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if((t=e.state.page).hasNext){c.next=3;break}return c.abrupt("return");case 3:return t.isLoading=!0,e.setState({"page":t}),n=t.page_no,r=t.page_size,o=n+1,c.next=9,e.fetch({"page_no":o,"page_size":r});case 9:a=c.sent,(!(i=a.total)||o>=Math.ceil(+i/r))&&(t.hasNext=!1),e.setState({"page":s({},t,{"total":i,"page_no":o,"isLoading":!1})});case 13:case"end":return c.stop()}},_callee,e)}))},t}var l=n(27),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function withBackToTop(e){return function(t){function WithBackToTopComponent(e){!function withBackToTop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithBackToTopComponent);var t=function withBackToTop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithBackToTopComponent.__proto__||Object.getPrototypeOf(WithBackToTopComponent)).call(this,e));return t.scrollBackToTop=function(){t.setState({"scrollTop":0},function(){t.setState({"scrollTop":null})})},t.handleScroll=function(e){var n=e.detail,r=n.scrollTop;n.scrollHeight<600||(r>300&&!t.state.showBackToTop?(l.i.debug("[BackToTop] showBackToTop, scrollTop: "+r),t.setState({"showBackToTop":!0})):t.state.showBackToTop&&r<=300&&(l.i.debug("[BackToTop] hideBackToTop, scrollTop: "+r),t.setState({"showBackToTop":!1})))},t.state=u({},t.state,{"scrollTop":null,"showBackToTop":!1}),t}return function withBackToTop_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithBackToTopComponent,e),WithBackToTopComponent}()}n.d(t,"b",function(){return withLogin}),n.d(t,"c",function(){return withPager}),n.d(t,"a",function(){return withBackToTop})},"391":function(e,t,n){"use strict";n.d(t,"a",function(){return f});n(2);var r=n(3),o=n.n(r),a=n(613),i=n(349),s=n.n(i),c=n(43),l=n.n(c),u=n(348),p=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var f=function(e){function AtTabsPane(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtTabsPane),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtTabsPane.__proto__||Object.getPrototypeOf(AtTabsPane)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtTabsPane,u["a"]),p(AtTabsPane,[{"key":"render","value":function render(){var e=this.props,t=e.customStyle,n=e.className,r=e.tabDirection,i=e.index,s=e.current;return o.a.createElement(a.a,{"className":l()({"at-tabs-pane":!0,"at-tabs-pane--vertical":"vertical"===r,"at-tabs-pane--active":i===s,"at-tabs-pane--inactive":i!==s},n),"style":t},this.props.children)}}]),AtTabsPane}();f.defaultProps={"customStyle":"","className":"","tabDirection":"horizontal","index":0,"current":0},f.propTypes={"customStyle":s.a.oneOfType([s.a.object,s.a.string]),"className":s.a.oneOfType([s.a.array,s.a.string]),"tabDirection":s.a.oneOf(["horizontal","vertical"]),"index":s.a.number,"current":s.a.number}},"392":function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(2),o=n.n(r),a=n(3),i=n.n(a),s=n(613),c=n(612),l=n(349),u=n.n(l),p=n(43),f=n.n(p),h=n(353),d=n(348),m=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var _=o.a.getEnv(),b=function(e){function AtTabs(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtTabs);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtTabs.__proto__||Object.getPrototypeOf(AtTabs)).apply(this,arguments));return e.updateState=function(t){if(e.props.scroll)switch(_){case o.a.ENV_TYPE.WEAPP:case o.a.ENV_TYPE.ALIPAY:case o.a.ENV_TYPE.SWAN:e.setState({"_scrollIntoView":"tab"+(t-1)});break;case o.a.ENV_TYPE.WEB:var n=Math.max(t-1,0),r=e.tabHeaderRef.childNodes[n];e.setState({"_scrollTop":r.offsetTop,"_scrollLeft":r.offsetLeft});break;default:console.warn("AtTab 组件在该环境还未适配")}},e.state={"_scrollLeft":"","_scrollTop":"","_scrollIntoView":""},e._tabId=Object(h.c)()?"tabs-AOTU2018":Object(h.d)(),e._touchDot=0,e._timer=null,e._interval=0,e._isMoving=!1,e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtTabs,d["a"]),m(AtTabs,[{"key":"handleClick","value":function handleClick(){var e;(e=this.props).onClick.apply(e,arguments)}},{"key":"handleTouchStart","value":function handleTouchStart(e){var t=this,n=this.props,r=n.swipeable,o=n.tabDirection;r&&"vertical"!==o&&(this._touchDot=e.touches[0].pageX,this._timer=setInterval(function(){t._interval++},100))}},{"key":"handleTouchMove","value":function handleTouchMove(e){var t=this.props,n=t.swipeable,r=t.tabDirection,o=t.current,a=t.tabList;if(n&&"vertical"!==r){var i=e.touches[0].pageX-this._touchDot,s=a.length;!this._isMoving&&this._interval<10&&(o+1<s&&i<=-40?(this._isMoving=!0,this.handleClick(o+1)):o-1>=0&&i>=40&&(this._isMoving=!0,this.handleClick(o-1)))}}},{"key":"handleTouchEnd","value":function handleTouchEnd(){var e=this.props,t=e.swipeable,n=e.tabDirection;t&&"vertical"!==n&&(clearInterval(this._timer),this._interval=0,this._isMoving=!1)}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){e.scroll!==this.props.scroll&&this.getTabHeaderRef(),e.current!==this.props.current&&this.updateState(e.current)}},{"key":"getTabHeaderRef","value":function getTabHeaderRef(){_===o.a.ENV_TYPE.WEB&&(this.tabHeaderRef=document.getElementById(this._tabId))}},{"key":"componentDidMount","value":function componentDidMount(){this.getTabHeaderRef(),this.updateState(this.props.current)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.tabHeaderRef=null}},{"key":"render","value":function render(){var e,t=this,n=this.props,r=n.customStyle,o=n.className,a=n.height,l=n.tabDirection,u=n.animated,p=n.tabList,h=n.scroll,d=n.current,m=this.state,b=m._scrollLeft,y=m._scrollTop,g=m._scrollIntoView,v={"height":a},T={"height":"vertical"===l?100*p.length+"%":"1PX","width":"horizontal"===l?100*p.length+"%":"1PX"},w={},k="translate3d(0px, -"+100*d+"%, 0px)";"horizontal"===l&&(k="translate3d(-"+100*d+"%, 0px, 0px)"),Object.assign(w,{"transform":k,"-webkit-transform":k}),u||(w.transition="unset");var O=p.map(function(e,n){var r=f()({"at-tabs__item":!0,"at-tabs__item--active":d===n});return i.a.createElement(s.a,{"className":r,"id":"tab"+n,"key":e.title,"onClick":t.handleClick.bind(t,n)},e.title,i.a.createElement(s.a,{"className":"at-tabs__item-underline"}))}),P=f()((_defineProperty(e={"at-tabs":!0,"at-tabs--scroll":h},"at-tabs--"+l,!0),_defineProperty(e,"at-tabs--"+_,!0),e),o),C="horizontal"===l,E="vertical"===l;return i.a.createElement(s.a,{"className":P,"style":this.mergeStyle(v,r)},h?i.a.createElement(c.a,{"id":this._tabId,"className":"at-tabs__header","style":v,"scrollX":C,"scrollY":E,"scrollWithAnimation":!0,"scrollLeft":b,"scrollTop":y,"scrollIntoView":g},O):i.a.createElement(s.a,{"id":this._tabId,"className":"at-tabs__header"},O),i.a.createElement(s.a,{"className":"at-tabs__body","onTouchStart":this.handleTouchStart.bind(this),"onTouchEnd":this.handleTouchEnd.bind(this),"onTouchMove":this.handleTouchMove.bind(this),"style":this.mergeStyle(w,v)},i.a.createElement(s.a,{"className":"at-tabs__underline","style":T}),this.props.children))}}]),AtTabs}();b.defaultProps={"isTest":!1,"customStyle":"","className":"","tabDirection":"horizontal","height":"","current":0,"swipeable":!0,"scroll":!1,"animated":!0,"tabList":[],"onClick":function onClick(){}},b.propTypes={"customStyle":u.a.oneOfType([u.a.object,u.a.string]),"className":u.a.oneOfType([u.a.array,u.a.string]),"isTest":u.a.bool,"height":u.a.string,"tabDirection":u.a.oneOf(["horizontal","vertical"]),"current":u.a.number,"swipeable":u.a.bool,"scroll":u.a.bool,"animated":u.a.bool,"tabList":u.a.array,"onClick":u.a.func}},"394":function(e,t,n){},"395":function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r,o,a=n(2),i=n(3),s=n.n(i),c=n(613),l=n(216),u=n(217),p=n(347),f=(n(394),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var h=(o=r=function(e){function OrderItem(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OrderItem),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(OrderItem.__proto__||Object.getPrototypeOf(OrderItem)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(OrderItem,a["Component"]),f(OrderItem,[{"key":"render","value":function render(){var e=this.props,t=e.info,n=e.onClick;return s.a.createElement(c.a,{"className":"order-item","onClick":n},s.a.createElement(c.a,{"className":"order-item__hd"},s.a.createElement(l.a,{"mode":"aspectFill","className":"order-item__img","src":t.pic_path})),s.a.createElement(c.a,{"className":"order-item__bd"},s.a.createElement(u.a,{"className":"order-item__title"},t.title),s.a.createElement(u.a,{"className":"order-item__desc"},t.goods_props)),s.a.createElement(c.a,{"className":"order-item__ft"},s.a.createElement(p.g,{"className":"order-item__price","value":t.price}),s.a.createElement(u.a,{"className":"order-item__num"},"x ",t.num)))}}]),OrderItem}(),r.defaultProps={"onClick":function onClick(){}},o)},"397":function(e,t,n){},"399":function(e,t,n){},"400":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r,o,a=n(2),i=n(3),s=n.n(i),c=n(613),l=n(217),u=n(562),p=n(347),f=n(395),h=(n(399),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var d=(o=r=function(e){function TradeItem(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TradeItem),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TradeItem.__proto__||Object.getPrototypeOf(TradeItem)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TradeItem,a["Component"]),h(TradeItem,[{"key":"handleClickBtn","value":function handleClickBtn(e){var t=this.props.info;this.props.onClickBtn&&this.props.onClickBtn(e,t)}},{"key":"render","value":function render(){var e=this.props,t=e.customHeader,n=e.customFooter,r=e.noHeader,o=e.onClick,a=e.info;return s.a.createElement(c.a,{"className":"trade-item"},!r&&(t?s.a.createElement(c.a,{"className":"trade-item__hd"},this.props.renderHeader):s.a.createElement(c.a,{"className":"trade-item__hd"},s.a.createElement(l.a,{"className":"trade-item__shop"},a.shopname),s.a.createElement(l.a,{"className":"more"},a.status_desc))),s.a.createElement(c.a,{"className":"trade-item__bd","onClick":o},a.order.map(function(e,t){return s.a.createElement(f.a,{"key":t,"info":e})}),this.props.customRender?this.props.customRender:s.a.createElement(c.a,{"className":"trade-item__total"},"共",a.totalItem,"件商品 合计:",s.a.createElement(p.g,{"value":a.payment}))),n&&s.a.createElement(c.a,{"className":"trade-item__ft"},this.props.renderFooter),!n&&"WAIT_BUYER_PAY"===a.status&&s.a.createElement(c.a,{"className":"trade-item__ft"},s.a.createElement(u.a,{"circle":!0,"type":"secondary","size":"small","onClick":this.handleClickBtn.bind(this,"pay")},"立即支付")),!n&&"WAIT_SELLER_SEND_GOODS"===a.status&&s.a.createElement(c.a,{"className":"trade-item__ft"},s.a.createElement(u.a,{"circle":!0,"size":"small","onClick":this.handleClickBtn.bind(this,"cancel")},"取消订单")),!n&&"WAIT_BUYER_CONFIRM_GOODS"===a.status&&s.a.createElement(c.a,{"className":"trade-item__ft"},s.a.createElement(u.a,{"circle":!0,"type":"secondary","size":"small","onClick":this.handleClickBtn.bind(this,"confirm")},"确认收货")),!n&&"WAIT_RATE"===a.status&&s.a.createElement(c.a,{"className":"trade-item__ft"},s.a.createElement(u.a,{"circle":!0,"type":"secondary","size":"small","onClick":this.handleClickBtn.bind(this,"rate")},"评价")))}}]),TradeItem}(),r.options={"addGlobalClass":!0},r.defaultProps={"customHeader":!1,"customFooter":!1,"customRender":!1,"noHeader":!1,"onClickBtn":function onClickBtn(){},"onClick":function onClick(){}},o)},"401":function(e,t,n){var r=n(206),o=n(207),a=n(46);e.exports=function mapKeys(e,t){var n={};return t=a(t,3),o(e,function(e,o,a){r(n,t(e,o,a),e)}),n}},"576":function(e,t,n){"use strict";n.r(t);var r,o,a=n(2),i=n.n(a),s=n(3),c=n.n(s),l=n(613),u=n(612),p=n(217),f=n(392),h=n(391),d=n(401),m=n.n(d),_=n(347),b=n(28),y=n(350),g=n(27),v=n(400),T=(n(397),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),w=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default=(r=Object(y.b)(),Object(y.c)(o=r(o=function(e){function TradeList(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TradeList);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TradeList.__proto__||Object.getPrototypeOf(TradeList)).call(this,e));return t.handleClickTab=function(e){t.state.page.isLoading||(e!==t.state.curTabIdx&&(t.resetPage(),t.setState({"list":[]})),t.setState({"curTabIdx":e},function(){t.nextPage()}))},t.handleClickItem=function(e){var t=e.tid;i.a.navigateTo({"url":"/pages/trade/detail?id="+t})},t.handleClickItemBtn=function(e,t){switch(console.log(e,t),e){case"pay":i.a.navigateTo({"url":"/pages/cashier/index?order_id="+t.tid});break;case"cancel":i.a.navigateTo({"url":"/pages/trade/cancel?order_id="+t.tid})}},t.state=T({},t.state,{"curTabIdx":0,"tabList":[{"title":"全部","status":"0"},{"title":"待发货","status":"6"},{"title":"待收货","status":"2"},{"title":"已完成","status":"3"}],"list":[]}),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TradeList,a["Component"]),w(TradeList,[{"key":"componentDidMount","value":function componentDidMount(){var e=this,t=this.$router.params.status,n=this.state.tabList.findIndex(function(e){return e.status===t});n>=0?this.setState({"curTabIdx":n},function(){e.nextPage()}):this.nextPage()}},{"key":"fetch","value":function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(e){var t,n,r,o,a,i,s;return regeneratorRuntime.wrap(function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return t=this.state,n=t.tabList,r=t.curTabIdx,e=m()(T({},e,{"order_type":"normal","status":n[r].status}),function(e,t){return"page_no"===t?"page":"page_size"===t?"pageSize":t}),c.next=4,b.a.trade.list(e);case 4:return o=c.sent,a=o.list,i=o.pager.count,s=Object(g.k)(a,{"tid":"order_id","status_desc":"order_status_msg","status":function status(e){var t=e.order_status;return Object(g.l)(t)},"totalItems":function totalItems(e){return e.items.reduce(function(e,t){return+t.num+e},0)},"payment":function payment(e){return(e.total_fee/100).toFixed(2)},"order":function order(e){var t=e.items;return Object(g.k)(t,{"order_id":"order_id","item_id":"item_id","pic_path":"pic","title":"item_name","price":function price(e){return(+e.item_fee/100).toFixed(2)},"num":"num"})}}),g.i.debug("[trade list] list fetched and processed: ",s),this.setState({"list":[].concat(_toConsumableArray(this.state.list),_toConsumableArray(s))}),c.abrupt("return",{"total":i});case 11:case"end":return c.stop()}},_callee,this)}));return function fetch(t){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this,t=this.state,n=t.curTabIdx,r=t.tabList,o=t.list,a=t.page;return c.a.createElement(l.a,{"className":"trade-list"},c.a.createElement(_.f,{"title":"订单列表","leftIconType":"chevron-left","fixed":"true"}),c.a.createElement(f.a,{"className":"trade-list__tabs","current":n,"tabList":r,"onClick":this.handleClickTab},r.map(function(e,t){return c.a.createElement(h.a,{"current":n,"key":t,"index":t})})),c.a.createElement(u.a,{"scrollY":!0,"className":"trade-list__scroll","onScrollToLower":this.nextPage},o.map(function(t,n){return c.a.createElement(v.a,{"customHeader":!0,"renderHeader":c.a.createElement(l.a,{"className":"trade-item__hd-cont"},c.a.createElement(p.a,{"className":"trade-item__shop"},"订单号：",t.tid),c.a.createElement(p.a,{"className":"more"},t.status_desc)),"key":n,"info":t,"onClick":e.handleClickItem.bind(e,t),"onClickBtn":e.handleClickItemBtn})}),a.isLoading&&c.a.createElement(_.e,null,"正在加载..."),!a.isLoading&&!a.hasNext&&!o.length&&c.a.createElement(_.m,{"img":"trades_empty.png"},"赶快去添加吧~")))}},{"key":"componentDidShow","value":function componentDidShow(){}}]),TradeList}())||o)||o)}}]);