(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"418":function(e,t,n){},"567":function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),i=n(3),c=n.n(i),l=n(619),o=(n(343),n(42)),s=n.n(o),u=n(380),f=n.n(u),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var p=function Icon(e){var t=e.type,n=e.className,a=void 0===n?"":n,r=e.size,i=void 0===r?"23":r,l=e.color;t&&(t=t.replace(/_/g,"-"));var o=s()(function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}({},"weui-icon-"+t,!0),a),u={"font-size":i+"px","color":l};return c.a.createElement("i",d({},f()(e,["type","className"]),{"className":o,"style":u}))},m=n(618),h=n(563),b=n(37),_=n(338),y=n(27);n(418);n.d(t,"default",function(){return E});var v=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,r){try{var i=t[a](r),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then(function(e){step("next",e)},function(e){step("throw",e)});e(c)}("next")})}}var E=function(e){function TradeRefundDetail(e){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TradeRefundDetail);var n,a=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TradeRefundDetail.__proto__||Object.getPrototypeOf(TradeRefundDetail)).call(this,e));return a.handleBtnClick=(n=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var n,i,c,l;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.state.info,i=n.aftersales_bn,c=n.order_id,l=n.item_id,"cancel"!==e){t.next=13;break}return r.a.showLoading({"mask":!0}),t.prev=3,t.next=6,y.a.aftersales.close({"aftersales_bn":i});case 6:a.fetch(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0);case 12:r.a.hideLoading();case 13:"edit"===e&&r.a.navigateTo({"url":"/pages/trade/refund?aftersales_bn="+i+"&order_id="+c+"&item_id="+l}),"refund"===e&&r.a.navigateTo({"url":"/pages/trade/refund?order_id="+c+"&item_id="+l}),"refund_send"===e&&r.a.navigateTo({"url":"/pages/trade/refund-sendback?aftersales_bn="+i});case 16:case"end":return t.stop()}},_callee,t,[[3,9]])})),function(e){return n.apply(this,arguments)}),a.state={"info":null,"progress":0},a}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TradeRefundDetail,a["Component"]),v(TradeRefundDetail,[{"key":"componentDidMount","value":function componentDidMount(){this.fetch()}},{"key":"fetch","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,n,a,r;return regeneratorRuntime.wrap(function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return e=this.$router.params.aftersales_bn,i.next=3,y.a.aftersales.info({"aftersales_bn":e});case 3:t=i.sent,n=t.aftersales,a=t.orderInfo,r=0,n.status_str=b.b[String(r)],this.setState({"orderInfo":a,"info":n,"progress":r});case 9:case"end":return i.stop()}},_callee2,this)}));return function fetch(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this.state,t=e.info,n=e.orderInfo,a=e.progress;return t?c.a.createElement(l.a,{"className":"trade-refund-status"},c.a.createElement(_.f,{"title":"售后详情","leftIconType":"chevron-left","fixed":"true"}),c.a.createElement(l.a,{"className":"refund-status"},0==a||1==a||3==a||5==a?c.a.createElement(p,{"size":"50","type":"waiting"}):2==a||4==a?c.a.createElement(p,{"size":"50","type":"cancel"}):c.a.createElement(p,{"size":"50","type":"success"}),c.a.createElement(l.a,{"class":"refund-reason"},t.status_str),c.a.createElement(l.a,{"class":"trade-bn"},"退款编号：",t.aftersales_bn)),c.a.createElement(l.a,{"className":"refund-detail"},c.a.createElement(_.i,{"title":"退款金额"},c.a.createElement(_.g,{"value":n.item_fee,"unit":"cent"})),c.a.createElement(_.i,{"title":"退款类型"},c.a.createElement(m.a,null,"ONLY_REFUND"===t.aftersales_type?"仅退款":"退款退货")),c.a.createElement(_.i,{"title":"退款理由"},c.a.createElement(m.a,null,t.reason)),(3==a||5==a)&&c.a.createElement(_.i,{"title":"驳回原因"},c.a.createElement(m.a,null,t.refuse_reason)),c.a.createElement(_.i,{"title":"问题描述"},c.a.createElement(m.a,null,t.description))),0==a&&c.a.createElement(l.a,{"className":"toolbar"},c.a.createElement(h.a,{"type":"secondary","circle":!0,"onClick":this.handleBtnClick.bind(this,"cancel")},"撤销申请"),c.a.createElement(h.a,{"type":"primary","circle":!0,"onClick":this.handleBtnClick.bind(this,"edit")},"修改申请")),(3==a||5==a)&&c.a.createElement(l.a,{"className":"toolbar"},c.a.createElement(h.a,{"circle":!0,"onClick":this.handleBtnClick.bind(this,"cancel")},"撤销申请"),c.a.createElement(h.a,{"circle":!0,"onClick":this.handleBtnClick.bind(this,"refund")},"再次申请")),1==a&&c.a.createElement(l.a,{"className":"toolbar"},c.a.createElement(h.a,{"circle":!0,"onClick":this.handleBtnClick.bind(this,"cancel")},"撤销申请"),c.a.createElement(h.a,{"circle":!0,"onClick":this.handleBtnClick.bind(this,"refund_send")},"填写物流信息"))):c.a.createElement(_.e,null)}},{"key":"componentDidShow","value":function componentDidShow(){}}]),TradeRefundDetail}()}}]);