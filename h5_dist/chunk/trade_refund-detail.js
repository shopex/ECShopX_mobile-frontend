(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"420":function(e,t,n){},"562":function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(3),o=n.n(c),i=n(611),l=(n(209),n(41)),s=n.n(l),u=n(213),f=n.n(u),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var d=function Icon(e){var t=e.type,n=e.className,a=void 0===n?"":n,r=e.size,c=void 0===r?"23":r,i=e.color;t&&(t=t.replace(/_/g,"-"));var l=s()(function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}({},"weui-icon-"+t,!0),a),u={"font-size":c+"px","color":i};return o.a.createElement("i",p({},f()(e,["type","className"]),{"className":l,"style":u}))},h=n(48),m=n(561),b=n(37),v=n(206),y=n(27);n(420);n.d(t,"default",function(){return E});var _=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,r){try{var c=t[a](r),o=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(o).then(function(e){step("next",e)},function(e){step("throw",e)});e(o)}("next")})}}var E=function(e){function TradeRefundDetail(e){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TradeRefundDetail);var n,a=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TradeRefundDetail.__proto__||Object.getPrototypeOf(TradeRefundDetail)).call(this,e));return a.handleBtnClick=(n=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var n;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return r.a.showLoading({"mask":!0}),n=a.$router.params.aftersales_bn,e.prev=2,e.next=5,y.a.trade.afterSaleClose({"aftersales_bn":n});case 5:a.fetch(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:r.a.hideLoading();case 11:case"end":return e.stop()}},_callee,t,[[2,8]])})),function(e){return n.apply(this,arguments)}),a.state={"info":null,"progress":0},a}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TradeRefundDetail,a["Component"]),_(TradeRefundDetail,[{"key":"componentDidMount","value":function componentDidMount(){this.fetch()}},{"key":"fetch","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,n,a,r;return regeneratorRuntime.wrap(function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:return e=this.$router.params.aftersales_bn,c.next=3,y.a.trade.afterSaleInfo({"aftersales_bn":e});case 3:t=c.sent,n=t.aftersales,a=t.orderInfo,r=+n.progress,n.status_str=b.b[String(r)],console.log(r,b.b),this.setState({"orderInfo":a,"info":n,"progress":r});case 10:case"end":return c.stop()}},_callee2,this)}));return function fetch(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this.state,t=e.info,n=e.orderInfo,a=e.progress;return t?o.a.createElement(i.a,{"className":"trade-refund-status"},o.a.createElement(i.a,{"className":"refund-status"},0==a||1==a||3==a||5==a?o.a.createElement(d,{"size":"50","type":"waiting"}):2==a||4==a?o.a.createElement(d,{"size":"50","type":"cancel"}):o.a.createElement(d,{"size":"50","type":"success"}),o.a.createElement(i.a,{"class":"refund-reason"},t.status_str),o.a.createElement(i.a,{"class":"trade-bn"},"退款编号：",t.aftersales_bn)),o.a.createElement(i.a,{"className":"refund-detail"},o.a.createElement(v.h,{"title":"退款金额"},o.a.createElement(v.f,{"value":n.item_fee,"unit":"cent"})),o.a.createElement(v.h,{"title":"退款类型"},o.a.createElement(h.a,null,"ONLY_REFUND"===t.aftersales_type?"仅退款":"退款退货")),o.a.createElement(v.h,{"title":"退款理由"},o.a.createElement(h.a,null,t.reason)),(3==a||5==a)&&o.a.createElement(v.h,{"title":"驳回原因"},o.a.createElement(h.a,null,t.refuse_reason)),o.a.createElement(v.h,{"title":"问题描述"},o.a.createElement(h.a,null,t.description))),0==a&&o.a.createElement(i.a,{"className":"toolbar"},o.a.createElement(m.a,{"circle":!0,"onClick":this.handleBtnClick.bind(this,"cancel")},"撤销申请"),o.a.createElement(m.a,{"circle":!0,"onClick":this.handleBtnClick.bind(this,"edit")},"修改申请")),(3==a||5==a)&&o.a.createElement(i.a,{"className":"toolbar"},o.a.createElement(m.a,{"circle":!0,"onClick":this.handleBtnClick.bind(this,"cancel")},"撤销申请"),o.a.createElement(m.a,{"circle":!0,"onClick":this.handleBtnClick.bind(this,"refund")},"再次申请")),1==a&&o.a.createElement(i.a,{"className":"toolbar"},o.a.createElement(m.a,{"circle":!0,"onClick":this.handleBtnClick.bind(this,"cancel")},"撤销申请"),o.a.createElement(m.a,{"circle":!0,"onClick":this.handleBtnClick.bind(this,"refund_send")},"填写物流信息"))):o.a.createElement(v.e,null)}},{"key":"componentDidShow","value":function componentDidShow(){}}]),TradeRefundDetail}()}}]);