(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"275":function(e,t,n){"use strict";n(2);var r=n(3),o=n.n(r),a=n(600),i=n(49),l=n(48),c=n(208),s=n.n(c),u=n(42),p=n.n(u),f=n(46),m=n.n(f),h=n(206),d=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var y=function(e){function AtModalHeader(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtModalHeader),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtModalHeader.__proto__||Object.getPrototypeOf(AtModalHeader)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtModalHeader,h["a"]),d(AtModalHeader,[{"key":"render","value":function render(){var e=p()("at-modal__header",this.props.className);return o.a.createElement(a.a,{"className":e},this.props.children)}}]),AtModalHeader}(),b=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var _=function(e){function AtModalAction(){return function action_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtModalAction),function action_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtModalAction.__proto__||Object.getPrototypeOf(AtModalAction)).apply(this,arguments))}return function action_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtModalAction,h["a"]),b(AtModalAction,[{"key":"render","value":function render(){var e=p()("at-modal__footer",{"at-modal__footer--simple":this.props.isSimple},this.props.className);return o.a.createElement(a.a,{"className":e},o.a.createElement(a.a,{"className":"at-modal__action"},this.props.children))}}]),AtModalAction}();_.defaultProps={"isSimple":!1},_.propTypes={"isSimple":s.a.bool};var v=n(277),O=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var C=function(e){function AtModalContent(){return function content_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtModalContent),function content_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtModalContent.__proto__||Object.getPrototypeOf(AtModalContent)).apply(this,arguments))}return function content_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtModalContent,h["a"]),O(AtModalContent,[{"key":"render","value":function render(){var e=p()("at-modal__content",this.props.className);return o.a.createElement(v.a,{"scrollY":!0,"className":e},this.props.children)}}]),AtModalContent}(),P=n(215);n.d(t,"a",function(){return E});var w=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var E=function(e){function AtModal(e){!function modal_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtModal);var t=function modal_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtModal.__proto__||Object.getPrototypeOf(AtModal)).apply(this,arguments));t.handleClickOverlay=function(){t.props.closeOnClickOverlay&&t.setState({"_isOpened":!1},t.handleClose)},t.handleClose=function(){m()(t.props.onClose)&&t.props.onClose()},t.handleCancel=function(){m()(t.props.onCancel)&&t.props.onCancel()},t.handleConfirm=function(){m()(t.props.onConfirm)&&t.props.onConfirm()},t.handleTouchMove=function(e){e.stopPropagation()};var n=e.isOpened;return t.state={"_isOpened":n},t}return function modal_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtModal,h["a"]),w(AtModal,[{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){var t=e.isOpened;this.props.isOpened!==t&&Object(P.a)(t),t!==this.state._isOpened&&this.setState({"_isOpened":t})}},{"key":"render","value":function render(){var e=this.state._isOpened,t=this.props,n=t.title,r=t.content,c=t.cancelText,s=t.confirmText,u=p()("at-modal",{"at-modal--active":e},this.props.className);if(n||r){var f=c||s;return o.a.createElement(a.a,{"className":u},o.a.createElement(a.a,{"onClick":this.handleClickOverlay,"className":"at-modal__overlay"}),o.a.createElement(a.a,{"className":"at-modal__container"},n&&o.a.createElement(y,null,o.a.createElement(i.a,null,n)),r&&o.a.createElement(C,null,o.a.createElement(a.a,{"className":"content-simple"},o.a.createElement(i.a,null,r))),f&&o.a.createElement(_,{"isSimple":!0},c&&o.a.createElement(l.a,{"onClick":this.handleCancel},c),s&&o.a.createElement(l.a,{"onClick":this.handleConfirm},s))))}return o.a.createElement(a.a,{"onTouchMove":this.handleTouchMove,"className":u},o.a.createElement(a.a,{"className":"at-modal__overlay","onClick":this.handleClickOverlay}),o.a.createElement(a.a,{"className":"at-modal__container"},this.props.children))}}]),AtModal}();E.defaultProps={"closeOnClickOverlay":!0},E.propTypes={"title":s.a.string,"isOpened":s.a.bool,"onCancel":s.a.func,"onConfirm":s.a.func,"onClose":s.a.func,"content":s.a.string,"closeOnClickOverlay":s.a.bool,"cancelText":s.a.string,"confirmText":s.a.string}},"435":function(e,t,n){},"571":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return b});var r=n(2),o=n.n(r),a=n(3),i=n.n(a),l=n(600),c=n(49),s=n(556),u=n(554),p=n(275),f=n(29),m=n(207),h=n(8),d=(n(435),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var b=function(e){function MoneyToPoint(e){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MoneyToPoint);var n=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(MoneyToPoint.__proto__||Object.getPrototypeOf(MoneyToPoint)).call(this,e));return n.handleChangeOtherNum=function(e){n.setState({"otherNumber":e})},n.handleClosePay=function(){n.setState({"isOpened":!1})},n.handleConfirmPay=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return e={"money":n.state.otherNumber},t.prev=1,t.next=4,f.a.member.depositToPoint(e).then(function(){n.setState({"isOpened":!1,"otherNumber":""}),o.a.showToast({"title":"兑换成功","icon":"none"}).then(function(){setTimeout(function(){n.fetch()},1e3)})});case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(1),h.a.toast(""+t.t0.res.data.error.message),t.abrupt("return",!1);case 10:case"end":return t.stop()}},_callee,t,[[1,6]])})),n.handleClickPay=function(e){if(e<=0)return h.a.toast("请输入大于0的金额");n.setState({"isOpened":!0,"otherNumber":e})},n.state=d({},n.state,{"otherNumber":"","isOpened":!1,"totalPoint":0}),n}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MoneyToPoint,r["Component"]),y(MoneyToPoint,[{"key":"componentDidMount","value":function componentDidMount(){this.fetch()}},{"key":"fetch","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.member.pointTotal();case 2:e=n.sent,t=e.point,this.setState({"totalPoint":t});case 5:case"end":return n.stop()}},_callee2,this)}));return function fetch(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this.state,t=e.otherNumber,n=e.isOpened,r=e.totalPoint;return i.a.createElement(l.a,{"className":"page-member-integral"},i.a.createElement(l.a,{"className":"member-integral__hd"},i.a.createElement(l.a,{"className":"integral-info"},i.a.createElement(l.a,{"className":"integral-number"},i.a.createElement(c.a,{"className":"sp-icon sp-icon-jifen1 icon-point"}," "),i.a.createElement(c.a,{"className":"integral-number__text"},r)),i.a.createElement(l.a,{"className":"integral-text"},"当前积分余额"))),i.a.createElement(l.a,{"className":"member-integral__bd"},i.a.createElement(l.a,{"className":"integral-sec integral-info__status"},i.a.createElement(l.a,{"className":"integral-sec__share"},"点击“立即兑换”即表示阅读并同意",i.a.createElement(c.a,null,"《兑换协议》"))),i.a.createElement(l.a,{"className":"integral-sec member-pay"},i.a.createElement(s.a,{"className":"otherNumber","title":"兑换金额","name":"otherNumber","type":"number","value":t,"placeholder":"请输入金额","onChange":this.handleChangeOtherNum}),i.a.createElement(l.a,{"className":"btns"},i.a.createElement(u.a,{"type":"primary","onClick":this.handleClickPay.bind(this,t)},"立即兑换"))),i.a.createElement(p.a,{"isOpened":n,"cancelText":"取消","confirmText":"确认","onClose":this.handleClosePay,"onCancel":this.handleClosePay,"onConfirm":this.handleConfirmPay,"content":"请确认是否将"+t+"元兑换成积分"})),i.a.createElement(m.m,null))}},{"key":"componentDidShow","value":function componentDidShow(){}}]),MoneyToPoint}()}}]);