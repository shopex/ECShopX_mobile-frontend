(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"487":function(e,t,n){},"599":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return p});var a=n(2),r=n.n(a),c=n(3),o=n.n(c),i=n(613),l=n(612),s=n(216),u=n(347),m=n(27),y=n(28),f=(n(487),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var p=function(e){function Category(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Category);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Category.__proto__||Object.getPrototypeOf(Category)).call(this,e));return t.handleClickCategoryNav=function(e){t.setState({"currentIndex":e})},t.state={"list":null,"pluralType":!0,"imgType":!0,"currentIndex":0},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Category,a["Component"]),f(Category,[{"key":"componentDidMount","value":function componentDidMount(){this.fetch()}},{"key":"fetch","value":function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,r){try{var c=t[a](r),o=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(o).then(function(e){step("next",e)},function(e){step("throw",e)});e(o)}("next")})}}(regeneratorRuntime.mark(function _callee(){var e,t;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.a.category.get();case 2:e=n.sent,t=Object(m.k)(e,{"category_name":"category_name","children":"children"}),this.setState({"list":t});case 5:case"end":return n.stop()}},_callee,this)}));return function fetch(){return e.apply(this,arguments)}}()},{"key":"handleClickItem","value":function handleClickItem(e){var t="/pages/item/list?cat_id="+e.category_id;r.a.navigateTo({"url":t})}},{"key":"render","value":function render(){var e=this,t=this.state,n=t.list,a=t.pluralType,r=t.imgType,c=t.currentIndex,y=void 0;return n&&(y=n[c].children),n?o.a.createElement(i.a,{"className":"page-category-index"},o.a.createElement(u.f,{"title":"分类","leftIconType":"chevron-left","fixed":"true"}),o.a.createElement(u.h,{"className":"category-top","isFixed":!0}),o.a.createElement(i.a,{"className":"category-list"},o.a.createElement(l.a,{"className":"category-list__nav","scrollY":!0},o.a.createElement(i.a,{"className":"category-nav"},n.map(function(t,n){return o.a.createElement(i.a,{"className":Object(m.a)("category-nav__content",c===n?"category-nav__content-checked":null),"key":n,"onClick":e.handleClickCategoryNav.bind(e,n)},t.category_name)}))),o.a.createElement(l.a,{"className":"category-list__content","scrollY":!0},o.a.createElement(i.a,{"className":Object(m.a)(a?"category-content":"category-content-no")},y.map(function(t){return o.a.createElement(i.a,{"className":"category-content__img","key":t.category_id,"onClick":e.handleClickItem.bind(e,t)},o.a.createElement(s.a,{"className":Object(m.a)(r?"cat-img":"cat-img-no"),"mode":"aspectFill","src":t.image_url}),o.a.createElement(i.a,{"className":"img-cat-name"},t.category_name))}),o.a.createElement(i.a,{"className":"category-content__img-empty"}," "),o.a.createElement(i.a,{"className":"category-content__img-empty"}," "),o.a.createElement(i.a,{"className":"category-content__img-empty"}," "))))):o.a.createElement(u.e,null)}},{"key":"componentDidShow","value":function componentDidShow(){}}]),Category}()}}]);