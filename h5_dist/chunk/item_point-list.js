(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"18":function(e,t,n){"use strict";n.d(t,"a",function(){return _});var o=n(2),r=n.n(o),i=n(3),a=n.n(i),c=n(595),s=n(350),u=n.n(s),l=n(46),p=n.n(l),f=n(348),h=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var _=function(e){function AtDivider(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtDivider),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtDivider.__proto__||Object.getPrototypeOf(AtDivider)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtDivider,f["a"]),h(AtDivider,[{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.customStyle,o=e.content,i=e.height,s=e.fontColor,u=e.fontSize,l=e.lineColor,f={"height":i?""+r.a.pxTransform(i):""},h={"color":s,"font-size":u?""+r.a.pxTransform(u):""},_={"background-color":l};return a.a.createElement(c.a,{"className":p()("at-divider",t),"style":this.mergeStyle(f,n)},a.a.createElement(c.a,{"className":"at-divider__content","style":h},""===o?this.props.children:o),a.a.createElement(c.a,{"className":"at-divider__line","style":_}))}}]),AtDivider}();_.defaultProps={"content":"","height":0,"fontColor":"","fontSize":0,"lineColor":""},_.propTypes={"customStyle":u.a.oneOfType([u.a.object,u.a.string]),"className":u.a.oneOfType([u.a.array,u.a.string]),"content":u.a.string,"height":u.a.oneOfType([u.a.number,u.a.string]),"fontColor":u.a.string,"fontSize":u.a.oneOfType([u.a.number,u.a.string]),"lineColor":u.a.string}},"351":function(e,t,n){"use strict";n(2),n(3);var o=n(6),r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}var a={"WILL_MOUNT":0,"DID_MOUNT":1,"DID_SHOW":2};function withLogin(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.WILL_MOUNT;return void 0!==a[t]?(console.warn("lifeCycle is not in defined types: "+t),function(e){return e}):function withLoginComponent(e){return function(n){function WithLogin(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithLogin),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithLogin.__proto__||Object.getPrototypeOf(WithLogin)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithLogin,e),r(WithLogin,[{"key":"componentWillMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(t!==a.WILL_MOUNT){e.next=6;break}return e.next=3,this.__autoLogin();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this);case 7:case"end":return e.stop()}},_callee,this)}));return function componentWillMount(){return e.apply(this,arguments)}}()},{"key":"componentDidMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(t!==a.DID_MOUNT){e.next=6;break}return e.next=3,this.__autoLogin();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this);case 7:case"end":return e.stop()}},_callee2,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{"key":"componentDidShow","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(t!==a.DID_SHOW){e.next=6;break}return e.next=3,this.__autoLogin();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this);case 7:case"end":return e.stop()}},_callee3,this)}));return function componentDidShow(){return e.apply(this,arguments)}}()},{"key":"__autoLogin","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.autoLogin(this);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee4,this)}));return function __autoLogin(){return e.apply(this,arguments)}}()}]),WithLogin}()}}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function withPager(e){var t,n;return t=function(t){function WithPagerComponent(e){!function withPager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithPagerComponent);var t=function withPager_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithPagerComponent.__proto__||Object.getPrototypeOf(WithPagerComponent)).call(this,e));n.call(t);var o=e||{},r=o.pageSize,i=void 0===r?10:r,a=o.pageNo,c=void 0===a?0:a,s=o.pageTotal,u={"hasNext":!0,"isLoading":!1,"total":void 0===s?0:s,"page_no":c,"page_size":i};return t.state.page=u,t}return function withPager_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithPagerComponent,e),s(WithPagerComponent,[{"key":"resetPage","value":function resetPage(){var e=c({},this.state.page||{},{"page_no":0,"total":0,"isLoading":!1,"hasNext":!0});this.setState({"page":e})}}]),WithPagerComponent}(),n=function _initialiseProps(){var e=this;this.nextPage=function withPager_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}(regeneratorRuntime.mark(function _callee(){var t,n,o,r,i,a;return regeneratorRuntime.wrap(function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if((t=e.state.page).hasNext){s.next=3;break}return s.abrupt("return");case 3:return t.isLoading=!0,e.setState({"page":t}),n=t.page_no,o=t.page_size,r=n+1,s.next=9,e.fetch({"page_no":r,"page_size":o});case 9:i=s.sent,(!(a=i.total)||r>=Math.ceil(+a/o))&&(t.hasNext=!1),e.setState({"page":c({},t,{"total":a,"page_no":r,"isLoading":!1})});case 13:case"end":return s.stop()}},_callee,e)}))},t}var u=n(31),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function withBackToTop(e){return function(t){function WithBackToTopComponent(e){!function withBackToTop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithBackToTopComponent);var t=function withBackToTop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithBackToTopComponent.__proto__||Object.getPrototypeOf(WithBackToTopComponent)).call(this,e));return t.scrollBackToTop=function(){t.setState({"scrollTop":0},function(){t.setState({"scrollTop":null})})},t.handleScroll=function(e){var n=e.detail,o=n.scrollTop;n.scrollHeight<600||(o>300&&!t.state.showBackToTop?(u.i.debug("[BackToTop] showBackToTop, scrollTop: "+o),t.setState({"showBackToTop":!0})):t.state.showBackToTop&&o<=300&&(u.i.debug("[BackToTop] hideBackToTop, scrollTop: "+o),t.setState({"showBackToTop":!1})))},t.state=l({},t.state,{"scrollTop":null,"showBackToTop":!1}),t}return function withBackToTop_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithBackToTopComponent,e),WithBackToTopComponent}()}n.d(t,"b",function(){return withLogin}),n.d(t,"c",function(){return withPager}),n.d(t,"a",function(){return withBackToTop})},"471":function(e,t,n){},"580":function(e,t,n){"use strict";n.r(t);var o,r=n(2),i=n.n(r),a=n(3),c=n.n(a),s=n(595),u=n(28),l=n(207),p=n(351),f=n(349),h=n(18),_=n(32),y=n(31),g=(n(471),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),b=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default=Object(p.c)(o=Object(p.a)(o=function(e){function PointList(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PointList);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(PointList.__proto__||Object.getPrototypeOf(PointList)).call(this,e));return t.handleClickItem=function(e){var t="/pages/item/point-detail?id="+e.item_id+"&is_point=true";i.a.navigateTo({"url":t})},t.state=g({},t.state,{"query":null,"list":[],"listType":"grid"}),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(PointList,r["Component"]),b(PointList,[{"key":"componentDidMount","value":function componentDidMount(){var e=this;this.setState({"query":{"keywords":"","distributor_id":16,"item_type":"normal","approve_status":"onsale,only_show","is_point":!0,"category":this.$router.params.cat_id}},function(){e.nextPage()})}},{"key":"fetch","value":function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}(regeneratorRuntime.mark(function _callee(e){var t,n,o,r,i,a,c;return regeneratorRuntime.wrap(function _callee$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.page_no,n=e.page_size,o=g({},this.state.query,{"page":t,"pageSize":n}),s.next=4,_.a.item.search(o);case 4:return r=s.sent,i=r.list,a=r.total_count,c=Object(y.k)(i,{"img":"pics[0]","item_id":"item_id","title":"itemName","desc":"brief","price":"point"}),this.setState({"list":[].concat(_toConsumableArray(this.state.list),_toConsumableArray(c)),"query":o}),s.abrupt("return",{"total":a});case 10:case"end":return s.stop()}},_callee,this)}));return function fetch(t){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this,t=this.state,n=t.list,o=t.listType,r=t.showBackToTop,i=t.scrollTop,a=t.page;return c.a.createElement(s.a,{"className":"page-goods-list"},c.a.createElement(s.a,{"className":"goods-list__toolbar"},c.a.createElement(s.a,{"className":"goods-list__toolbar-title"},c.a.createElement(h.a,{"fontColor":"#FF482B","lineColor":"#FF482B"},c.a.createElement(s.a,null,c.a.createElement(u.a,{"className":"sp-icon sp-icon-lifangtilitiduomiantifangkuai2 icon-allgoods"}," "),c.a.createElement(u.a,null,"全部商品"))))),c.a.createElement(l.a,{"className":"goods-list__scroll","scrollY":!0,"scrollTop":i,"scrollWithAnimation":!0,"onScroll":this.handleScroll,"onScrollToLower":this.nextPage},c.a.createElement(s.a,{"className":"goods-list goods-list__type-"+o},n.map(function(t){return c.a.createElement(f.d,{"key":t.item_id,"info":t,"noCurSymbol":!0,"appendText":"积分","onClick":e.handleClickItem.bind(e,t)})})),a.isLoading?c.a.createElement(f.e,null,"正在加载..."):null),c.a.createElement(f.b,{"show":r,"onClick":this.scrollBackToTop}))}},{"key":"componentDidShow","value":function componentDidShow(){}}]),PointList}())||o)||o}}]);